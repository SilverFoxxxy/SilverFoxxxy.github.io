<html>
<head>  

  <meta charset="UTF-8">
<!-- The Head tag is used to create a title of web page, CSS syntax for a web page, and helps in written a JavaScript code. -->  
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

  <script src="https://vk.com/js/api/openapi.js?169" type="text/javascript"></script>

  <!-- <div style="font-size: calc(var(--def-fontsz) * 0.5)"> Letters reader </div> -->

<title id="page_title">Letters reader </title>
<link rel="stylesheet" type="text/css" href="letters_reader.css">
<link rel="icon" href="src/icons/icon.png" type="image/icon type">

</head>
<body>

<script src="src/letters_tabs.js"></script>
<script src="src/http_req.js"></script>
  <!-- style="height:700px;" -->




















<div class="wideline">
<center>
    <div class="block" style="background: var(--main-bg); outline: none;">
    <table>
      <tr>
        <td style="width: fit-content">
          <button type="button" style="font-size: var(--def-fontsz); width: calc(var(--button-width) * 1); height:calc(var(--button-width) * 0.7);" id="login_button" onclick="showLoginForm()">
            <svg width="100%" height="100%">
              <svg id="login_icon" width="100%" height="100%" version="1.1" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
               <g fill="none" style="stroke: var(--main-color)">
                <path d="m5 95c0-22.427 18.838-38.136 45-38.127 26.162 0.0093 45 15.7 45 38.127" stroke-width="7"/>
                <circle cx="50" cy="27.5" r="22.5" stroke-width="7"/>
               </g>
              </svg>
              <!-- <use xlink:href="src/icons/login.svg#login_icon"></use> -->
            </svg>
            <!-- <img src="src/icons/login.svg" style='height: 100%; object-fit: contain;' id="login_icon"/>  -->
              
            </button>
        </td>

        <td style="width: fit-content; min-width: calc(var(--button-width) * 1);">
          <a href="letters_bookmarks.html">
            <div style="font-size: var(--def-fontsz); width:fit-content; height:calc(var(--button-width) * 0.7); min-width: calc(var(--button-width) * 1);" >
              <svg width="100%" height="100%">
                <svg width="100%" height="100%" version="1.1" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                 <path d="m24.06 5.3046v77.296l25.94-24.06 25.94 24.06v-77.296" fill="none" stroke="var(--main-color)" stroke-width="7"/>
                </svg>
                <!-- <use xlink:href="src/icons/login.svg#login_icon"></use> -->
              </svg>
              <!-- <img src="src/icons/bookmark.png" style='height: 100%; object-fit: contain;' id="favs_icon"/> -->
            </div>
          </a>
        </td>

        <td style="width:100%; float: center;">
          <center>
            <a href="letters.html" style="font-size: var(--def-fontsz);">На главную</a>
          </center>
        </td>

        <td style="width: fit-content">
          <button type="button" style="font-size: var(--def-fontsz); width:fit-content; height:calc(var(--button-width) * 0.7); min-width: calc(var(--button-width) * 1);" id="color_theme_button"> <img src="src/sun_moon2.jpg" style='height: 100%; object-fit: contain;' id="theme_icon"/> </button>
        </td>

        <td style="width: fit-content;">
          <button type="button" style="font-size: var(--def-fontsz); width:fit-content; height:calc(var(--button-width) * 0.7); min-width: calc(var(--button-width) * 1);" id="view_theme_button"> <img src="src/icons/default_dark.png" style='height: 100%; object-fit: contain; margin: auto;' id="view_icon"/> </button>
        </td>
      </tr>
    </table>
    <div id="username" style="display: none; text-align:left; padding-left: 0.5em; font-size: calc(var(--def-fontsz) * 0.85); color: var(--from-color);">
        silverfox123546576
    </div>
  </div>

  <div class="block" id="login_block" style="display:none; font-size:calc(var(--def-fontsz) * 0.5);">
    <br>
    <center>
      <div style="width: 92%;">
      <table>
        <tr>
          <td style="width: 30%; font-size:calc(var(--def-fontsz) * 0.7);">
            <center>
            Логин / почта:
            </center>
          </td>

          <td style="width: 5%;"></td>

          <td style="width: 30%; font-size:calc(var(--def-fontsz) * 0.7);">
            <center>
            Пароль:
          </center>
          </td>

          <td style="width: 5%;"></td>

          <td style="width: 30%; font-size: 0.7em;">
          </td>
        </tr>
        <tr>
          <td>
            <input type="text" autocomplete="username" class="input_text" name="user_nm" id="user_nm" style="font-size:calc(var(--def-fontsz) * 0.7); width: 100%;">
          </td>

          <td></td>

          <td style="font-size: 0.7em;">
            <input type="password" autocomplete="current-password" class="input_text" name="user_passwd" id="user_pswd" style="font-size:calc(var(--def-fontsz) * 0.7);  width: 100%;">
          </td>

          <td></td>

          <td style="font-size: 0.7em;">
            <button type="button" style="font-size:calc(var(--def-fontsz) * 0.9); width:100%;" id="login_button" onclick="tryLogin()"> Войти </button>
          </td>
        </tr>
      </table>
      <br>
      <div style="font-size:calc(var(--def-fontsz) * 0.7); width:fit-content; min-width: calc(var(--button-width) * 1);">
        Если ваш аккаунт привязан к ВК:
        <!-- VK Widget -->
        <div id="vk_auth"></div>
      </div>
      <br>
      <div style="font-size:calc(var(--def-fontsz) * 0.7); width:fit-content; min-width: calc(var(--button-width) * 1);">
        или
        <a href="registration.html" target="_blank" style="font-size:calc(var(--def-fontsz) * 0.7); width:fit-content; min-width: calc(var(--button-width) * 1);">зарегистрироваться</a>
      </div>
      <div id="login_errors" style="font-size:calc(var(--def-fontsz) * 0.7);"></div>
      </div>
      <br>
    </center>
  </div>

  <div class="block" id="logged_in_block" style="display:none; font-size:calc(var(--def-fontsz) * 0.7);">
    <center>
      <br>
      <button type="button" style="font-size:calc(var(--def-fontsz) * 0.9); width:9em;" id="logout_button" onclick="tryLogout()"> Выйти </button><br><br>
      Войдите через ВК, чтобы привязать аккаунт:
      <div id="vk_auth2"></div>
      <br>
    </center>
  </div>
</center>
</div>





























<br>
<div class="wideline">
<center>
<div class="block scrollable">

  <!-- <div id='page_title' style="font-size: calc(var(--def-fontsz) * 1.25);">Какое-то название</div> -->

  <table>
    <tr><td>
      <div style="height: 0.5em;"></div>
    </td></tr>

    <tr><td>
      <center><div style="width:80%">
        <hr>
      </div></center>
      <div class="author_block">
        <div class="author_msg" style="white-space: normal;">
          <div id='story_nm' style="font-size: calc(var(--def-fontsz) * 1.2); text-align: center; color: var(--main-color);">Какое-то название</div>

          <!-- class='msg_from'  -->
          <!-- <div id='story_nm'>Какое-то название</div> -->
        </div>
      </div>
      <center><div style="width:80%">
      </div></center>
    </td></tr>

    <!-- <tr><td>
      <div style="height: 0.5em;"></div>
    </td></tr> -->

    <tr><td>
      <center><div style="width:80%">
        <div style="font-size: calc(var(--def-fontsz) * 0.85); float: center; text-align: center; width: -moz-fit-content; width: fit-content;">
        <!-- <div class="right_msg" style="white-space: normal; background: transparent;"> -->
          <!-- <span style="color: var(--from-color);">Автор:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
          <span id='author_nm' style="text-align: right;">Имя автора</span>
          <br>
          <span style="color: var(--from-color);">Редактор:&nbsp;</span>
          <span id='editor_nm'>Имя редактора</span> -->
          <!-- <center> -->
            <span style="color: var(--from-color);">Автор:&nbsp;</span>
            <span id='author_nm' style="text-align: right;">Имя автора</span>
            <br>
            <span style="color: var(--from-color);">Редактор:&nbsp;</span>
            <span id='editor_nm'>Имя редактора</span>
          <!-- </center> -->
        <!-- </div> -->
      </div>
      </div></center>
    </td></tr>

    <tr><td>
      <center><div style="width:80%">
        <hr>
      </div></center>
    </td></tr>

    <tr><td>
      <center><a id="read"><div style="width:80%">
      <div class="link_msg" style="width: 100%; font-size: calc(var(--def-fontsz) * 1.2); background: var(--main-bg);">Читать</div>
      </div></a>
      </center>
    </td></tr>

    <tr><td>
      <center>
      <div id="edit_block" style="display: none; width: 80%;">
      <hr>
      <a id="edit"><div style="width:100%">
      <div class="link_msg" style="width: 100%; font-size: calc(var(--def-fontsz) * 1.2); background: var(--main-bg);">Редактировать</div>
      </div></a>
      <hr>
      </div>
      </center>
    </td></tr>

    <tr><td>
      <center><div style="width:80%">
        <br>
      </div></center>
    </td></tr>
    <!-- <tr>
        <td style="width:70%">January</td>
        <td style="width:30%">$100</td>
    </tr> -->

    <tr><td>
      <center>
      <div style="width: 80%;">
      <!-- <table>
        <tr><td> -->
          <!-- <td style="width: 50%;"> -->
          <div>
            <table>
              <tr>
                <td style="width: 10%;">
                  <center>
                    <button id="plus_rate_button" onclick="change_rating(1)" style="width: 100%; font-size: calc(var(--def-fontsz) * 1);  height: calc(var(--def-fontsz) * 2);">
                      <b>
                      <div id="plus_rate_button_inside1" style="display: block; font-size: calc(var(--def-fontsz) * 1);">+</div>
                      <div id="plus_rate_button_inside2" style="display: none; font-size: calc(var(--def-fontsz) * 1); color: var(--from-color);">+</div></b>
                    </button>
                  </center>
                </td>
                <td style="width: 26%;">
                  <center>
                    <div id="plus_rating" style="font-size: calc(var(--def-fontsz) * 1);">+8675</div>
                  </center>
                </td>
                <td style="width: 10%;">
                  <center>
                  <button id="minus_rate_button" onclick="change_rating(-1)" style="width: 100%; font-size: calc(var(--def-fontsz) * 1);  height: calc(var(--def-fontsz) * 2);">
                    <b><div id="minus_rate_button_inside1" style="display: block; font-size: calc(var(--def-fontsz) * 1);">-</div>
                      <div id="minus_rate_button_inside2" style="display: none; font-size: calc(var(--def-fontsz) * 1); color: var(--from-color);">-</div></b>
                  </button>
                  </center>
                </td>
                <!-- <td style="width: 6%;">
                  <div>&nbsp;|&nbsp;</div>
                </td>
                <td style="width: 21%;">
                  <center>
                  <div id="minus_rating">-0</div>
                  </center>
                </td> -->
                <td style="width: 4%; text-align: center; border-right: 1px solid #777;">
                </td>
                <td style="width: 4%; text-align: center;">
                </td>
                <td style="width: 46%;">
                  <center>
                    <button id="favs_button" onclick="add_fav_title()" style="width: 100%; font-size: calc(var(--def-fontsz) * 1); height: calc(var(--def-fontsz) * 2);">
                      <center>
                        <!-- Created with Inkscape (http://www.inkscape.org/) -->
                        <div style="height: calc(var(--def-fontsz) * 0.3);"></div>
                        <div style="display: block; width: 100%; height: calc(var(--def-fontsz) * 1.7); position: relative;">
                          <svg width="100%" height="70%" version="1.1" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                           <g>
                            <path d="m4.2002 27.937c1.3874-12.681 12.871-23.156 25.349-22.087 12.478 1.0693 18.074 7.7814 20.451 22.087 2.3765-14.305 7.9723-21.017 20.451-22.087 12.478-1.0693 23.962 9.4058 25.349 22.087 0.91298 21.209-15.919 41.452-45.8 66.239-29.881-24.787-46.713-45.031-45.8-66.239z" fill="none" stroke="var(--main-color)" stroke-width="7"/>
                           </g>
                          </svg>
                          <div id="is_fav" style="display: none; width: 100%; height: calc(var(--def-fontsz) * 1.7); position: absolute; top: 0; left: 0;">
                            <svg width="100%" height="70%" version="1.1" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                             <g>
                              <path d="m4.2002 27.937c1.3874-12.681 12.871-23.156 25.349-22.087 12.478 1.0693 18.074 7.7814 20.451 22.087 2.3765-14.305 7.9723-21.017 20.451-22.087 12.478-1.0693 23.962 9.4058 25.349 22.087 0.91298 21.209-15.919 41.452-45.8 66.239-29.881-24.787-46.713-45.031-45.8-66.239z" fill="var(--block-bg)" stroke="var(--from-color)" stroke-width="7"/>
                             </g>
                            </svg>
                          </div>
                        </div>

                      <!-- <span id="show_fav" style="display: block; width: 2em; font-family: Arial sans-serif; font-weight: normal; font-style: normal; color: transparent; position: relative;">
                        &#9825;
                        <span id="not_fav" style="display: block; width: 2em; color: var(--main-color); font-family: Arial sans-serif; font-weight: normal; font-style: normal; position: absolute; top: 0; left: 0;">
                          &#9825;
                        </span>
                        <span id="is_fav1" style="display: none; width: 2em; color: var(--block-bg); font-family: Arial sans-serif; font-weight: normal; font-style: normal; position: absolute; top: 0; left: 0;">
                          &#9829;
                        </span>
                        <span id="is_fav2" style="display: none; width: 2em; color: var(--from-color); font-family: Arial sans-serif; font-weight: normal; font-style: normal; position: absolute; top: 0; left: 0;">
                          &#9825;
                        </span>
                      </span> -->
                    </center>
                    </button>
                    <!-- + в избранное &#9829; -->
                  </center>
                </td>
              </tr>
              <!-- <tr>
                <td>
                  <center>
                  <button id="plus_rate_button" style="width: 100%;">+</button>
                  </center>
                </td>
                <td></td>
                <td>
                  <center>
                  <button id="minus_rate_button" style="width: 100%;">-</button>
                  </center>
                </td>
                <td></td>
                <td>
                  <button id="favs_button" style="width: 100%;">&#9825;</button>
                </td>
              </tr> -->
            </table>
            <table>
              <tr>
                <td style="width: 4%;">
                  <!-- <center>
                  <button id="plus_rate_button" style="width: 100%;">+</button>
                  </center> -->
                </td>
                <td style="width: 40%;">
                  <center>
                    <div style="font-size: calc(var(--def-fontsz) * 0.75); color: var(--from-color);">рейтинг</div>
                  </center>
                </td>
                <td style="width: 4%;">
                  <!-- <center>
                  <button id="minus_rate_button" style="width: 100%;">-</button>
                  </center> -->
                </td>
                <!-- <td style="width: 6%;">
                  <div>&nbsp;|&nbsp;</div>
                </td>
                <td style="width: 21%;">
                  <center>
                  <div id="minus_rating">-0</div>
                  </center>
                </td> -->
                <td style="width: 2%; text-align: center; border-right: 1px solid #777;">
                </td>
                <td style="width: 2%; text-align: center;">
                <td style="width: 48%;">
                  <center>
                    <!-- <button id="favs_button" style="width: 100%;">&#9825;</button> -->
                    <div id="favs_text" style="font-size: calc(var(--def-fontsz) * 0.75); color: var(--from-color);">в избранное</div>
                  </center>
                </td>
              </tr>
            </table>
          </div>
          <!-- <td style="width: auto;">
            <center>
            + в избранное
            <br>
            <button id="favs_button" style="width: 100%;">&#9825;</button>
            
            </center>
          </td> -->
        <!-- </td></tr>
      </table> -->
      </div>
      </center>
    </td></tr>

    <tr><td>
      <center><div style="width:80%">
        <hr>
      </div></center>
    </td></tr>

    <tr><td>
      <center>
      <div id='description_block' style="width: 80%;">
        <button type='button' class='collapsible just_div' style="text-align: center; width:100%; background: var(--block-bg);"><span style="background: var(--block-bg);">&#9650</span>&nbsp;<span style="width: 100%; text-align: center; font-size: calc(var(--def-fontsz) * 1); background: var(--block-bg);">Описание</span></button>
        <div class='content just_div' id='description' style="display:block; width:90%;background: var(--идщсл-bg); font-size: calc(var(--def-fontsz) * 0.75);">blah-blah-blah<br>blah-blah</div>
      </div>
      </center>
    </td></tr>

    <tr><td>
      <center><div style="width:80%;">
        <hr>
      </div></center>
    </td></tr>

    <tr><td>
      <center>
      <div style="width: 75%;">
        <button type='button' class='just_div' style="text-align: center; width:100%; background: var(--block-bg);"><span style="background: var(--block-bg);"></span>&nbsp;<span style="width: 100%; text-align: center; font-size: calc(var(--def-fontsz) * 1); background: var(--block-bg);">Комментарии</span></button>
        <!-- <span style="width: 100%; text-align: center; font-size: calc(var(--def-fontsz) * 1);">Комментарии</span> -->
        <div class='just_div' style="display:block; width:100%; background: var(--block-bg); font-size: calc(var(--def-fontsz) * 0.75);">
        <table>
          <!-- <tr><td>
            <br>
          </td></tr> -->

          <tr><td>
            <div class="comment">
            <span class="msg_from">silverfox:</span>
            Комментарии находятся в разработке
            </div>
          </td></tr>

          <!-- <tr><td>
            <div style="height: 0.5em;"></div>
          </td></tr>

          <tr><td>
            <div class="comment">
            <span class="msg_from">Чел 2:</span>
            Коммент
            </div>
          </td></tr>

          <tr><td>
            <div style="height: 0.5em;"></div>
          </td></tr>

          <tr><td>
            <div class="comment">
            <span class="msg_from">Редактор:</span>
            Ещё коммент
            </div> -->
          </td></tr>

          <!-- <tr><td>
            <center><div style="width:80%;">
              <hr>
            </div></center>
          </td></tr> -->

        </table>
        </div>
      </div>
      </center>
    </td></tr>

    <tr><td>
      <center><div style="width:80%;">
        <hr>
      </div></center>
    </td></tr>
  </table>
  
  <br>
</div>
</center>
</div>

<br><br>

<br>
<br><br><br>

<!-- <script type="text/javascript" src="letters_example.json"></script> -->
<script src="src/letters_login.js"></script>
<script src="./src/collapsible.js" charset="utf-8"></script>

<script>
  window.color_theme = 1;
  window.view_theme = 1;
  window.msg_font_n = 2;
</script>

<script src="src/letters_themes.js">
</script>
<script src="src/letters_views.js">
</script>
<script src="src/letters_page.js"></script>
<script src="src/vk_auth.js"></script>


</body>

</html>
