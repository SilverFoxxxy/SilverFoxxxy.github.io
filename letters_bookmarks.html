<html>
<head>  

  <meta charset="UTF-8">
<!-- The Head tag is used to create a title of web page, CSS syntax for a web page, and helps in written a JavaScript code. -->  
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

  <script src="https://vk.com/js/api/openapi.js?169" type="text/javascript"></script>

  <!-- <div style="font-size: calc(var(--def-fontsz) * 0.5)"> Letters reader </div> -->

<title id="page_title">Letters reader </title>
<link rel="stylesheet" type="text/css" href="letters_reader.css">
<link rel="icon" href="src/icons/icon.png" type="image/icon type">

</head>
<body>

<!-- The Body tag is used to display the content on a web page. In this example we do not specify any content or any tag, so in output nothing will display on the web page. -->

<script src="src/http_req.js"></script>
<script src="src/letters_tabs.js"></script>
  <!-- style="height:700px;" -->





















<div class="wideline">
<center>
    <div class="block" style="background: var(--main-bg); outline: none;">
    <table>
      <tr>
        <td style="width: fit-content">
          <button type="button" style="font-size: var(--def-fontsz); width: calc(var(--button-width) * 1); height:calc(var(--button-width) * 0.7);" id="login_button" onclick="showLoginForm()">
            <svg width="100%" height="100%">
              <svg id="login_icon" width="100%" height="100%" version="1.1" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
               <g fill="none" style="stroke: var(--main-color)">
                <path d="m5 95c0-22.427 18.838-38.136 45-38.127 26.162 0.0093 45 15.7 45 38.127" stroke-width="7"/>
                <circle cx="50" cy="27.5" r="22.5" stroke-width="7"/>
               </g>
              </svg>
              <!-- <use xlink:href="src/icons/login.svg#login_icon"></use> -->
            </svg>
            <!-- <img src="src/icons/login.svg" style='height: 100%; object-fit: contain;' id="login_icon"/>  -->
              
            </button>
        </td>

        <td style="width: fit-content; min-width: calc(var(--button-width) * 1);">
          <a href="letters_bookmarks.html">
            <div style="font-size: var(--def-fontsz); width:fit-content; height:calc(var(--button-width) * 0.7); min-width: calc(var(--button-width) * 1);" >
              <svg width="100%" height="100%">
                <svg width="100%" height="100%" version="1.1" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                 <path d="m24.06 5.3046v77.296l25.94-24.06 25.94 24.06v-77.296" fill="none" stroke="var(--main-color)" stroke-width="7"/>
                </svg>
                <!-- <use xlink:href="src/icons/login.svg#login_icon"></use> -->
              </svg>
              <!-- <img src="src/icons/bookmark.png" style='height: 100%; object-fit: contain;' id="favs_icon"/> -->
            </div>
          </a>
        </td>

        <td style="width:100%; float: center;">
          <center>
            <a href="letters.html" style="font-size: var(--def-fontsz);">На главную</a>
          </center>
        </td>

        <td style="width: fit-content">
          <button type="button" style="font-size: var(--def-fontsz); width:fit-content; height:calc(var(--button-width) * 0.7); min-width: calc(var(--button-width) * 1);" id="color_theme_button"> <img src="src/sun_moon2.jpg" style='height: 100%; object-fit: contain;' id="theme_icon"/> </button>
        </td>

        <td style="width: fit-content;">
          <button type="button" style="font-size: var(--def-fontsz); width:fit-content; height:calc(var(--button-width) * 0.7); min-width: calc(var(--button-width) * 1);" id="view_theme_button"> <img src="src/icons/default_dark.png" style='height: 100%; object-fit: contain; margin: auto;' id="view_icon"/> </button>
        </td>
      </tr>
    </table>
    <div id="username" style="display: none; text-align:left; padding-left: 0.5em; font-size: calc(var(--def-fontsz) * 0.85); color: var(--from-color);">
        silverfox123546576
    </div>
  </div>

  <div class="block" id="login_block" style="display:none; font-size:calc(var(--def-fontsz) * 0.5);">
    <br>
    <center>
      <div style="width: 92%;">
      <table>
        <tr>
          <td style="width: 30%; font-size:calc(var(--def-fontsz) * 0.7);">
            <center>
            Логин / почта:
            </center>
          </td>

          <td style="width: 5%;"></td>

          <td style="width: 30%; font-size:calc(var(--def-fontsz) * 0.7);">
            <center>
            Пароль:
          </center>
          </td>

          <td style="width: 5%;"></td>

          <td style="width: 30%; font-size: 0.7em;">
          </td>
        </tr>
        <tr>
          <td>
            <input type="text" autocomplete="username" class="input_text" name="user_nm" id="user_nm" style="font-size:calc(var(--def-fontsz) * 0.7); width: 100%;">
          </td>

          <td></td>

          <td style="font-size: 0.7em;">
            <input type="password" autocomplete="current-password" class="input_text" name="user_passwd" id="user_pswd" style="font-size:calc(var(--def-fontsz) * 0.7);  width: 100%;">
          </td>

          <td></td>

          <td style="font-size: 0.7em;">
            <button type="button" style="font-size:calc(var(--def-fontsz) * 0.9); width:100%;" id="login_button" onclick="tryLogin()"> Войти </button>
          </td>
        </tr>
      </table>
      <br>
      <div style="font-size:calc(var(--def-fontsz) * 0.7); width:fit-content; min-width: calc(var(--button-width) * 1);">
        Если ваш аккаунт привязан к ВК:
        <!-- VK Widget -->
        <div id="vk_auth"></div>
      </div>
      <br>
      <div style="font-size:calc(var(--def-fontsz) * 0.7); width:fit-content; min-width: calc(var(--button-width) * 1);">
        или
        <a href="registration.html" target="_blank" style="font-size:calc(var(--def-fontsz) * 0.7); width:fit-content; min-width: calc(var(--button-width) * 1);">зарегистрироваться</a>
      </div>
      <div id="login_errors" style="font-size:calc(var(--def-fontsz) * 0.7);"></div>
      </div>
      <br>
    </center>
  </div>

  <div class="block" id="logged_in_block" style="display:none; font-size:calc(var(--def-fontsz) * 0.7);">
    <center>
      <br>
      <button type="button" style="font-size:calc(var(--def-fontsz) * 0.9); width:9em;" id="logout_button" onclick="tryLogout()"> Выйти </button><br><br>
      Войдите через ВК, чтобы привязать аккаунт:
      <div id="vk_auth2"></div>
      <br>
    </center>
  </div>
</center>
</div>































<center>
  <div style="font-size: 1em;">
    <br>
  </div>
  <div style="font-size: calc(var(--def-fontsz) * 2);">Избранное</div>
  <div style="font-size: 1em;">
    <br>
  </div>
</center>



<div class="wideline">

<center>
<div class="block scrollable">

  <!-- <div class="tab">
    sdfglhfdfghjkjhgkfjdghj.kl'j;lhkgfxbcnvmb,jcnxbcnvmbn,mvncbxnjjhgfhghjlxcnvbjhgfjdhsfcgv jhvhcgcmnbvhjcj
  </div> -->

  <div class="tab" id="tabs_top">
    <button class="tablinks" id="favs_tab_button" onclick="openTab(event, 'favs_tab')">Избранное</button>
    <button class="tablinks" id="edit_tab_button" onclick="openTab(event, 'edit_tab')">Мои произведения</button>
  </div>

  <div id="favs_tab" class="tabcontent">
    <div id="favs_pretab" style="display:block;">
      <table>
        <tr><td>
          <div style="font-size: 0.5em">
            <br><br><br>
          </div>
        </td></tr>

        <tr><td>
          <div class="link_block link_msg_v1">
            <div class="link_msg link_msg_v2">
              <div style="text-decoration: none;">
                <big>Здесь будут ваши избранные истории<br></big><hr>
                <div style="font-style: italic;">Чтобы сохранять любимые произведения нужно авторизоваться</div>
              </div>
            </div>
          </div>
        </td></tr>

        <tr><td>
          <div style="font-size: 0.5em">
            <br><br><br>
          </div>
        </td></tr>
        <tr><td>
          <br><br><br>
        </td></tr>
      </table>
    </div>
    <div id="favs_table">
    </div>
  </div>

  <div id="edit_tab" class="tabcontent">
    <div id="edit_pretab">
      <table>

        <tr><td>
          <div style="font-size: 0.5em">
            <br><br><br>
          </div>
        </td></tr>

        <tr><td>
          
          <div class="link_block link_msg_v1">
            <div class="link_msg link_msg_v2">
              <hr>
              <div style="text-decoration: none;">
                Добавить свою историю / произведение на сайт<br>
                можно на этой страничке:
                <a href="add_story.html" target="_blank" style="font-size: var(--small-fontsz);">add_story</a>
              </div>
              <hr>
            </div>
          </div>

        </td></tr>
      </table>
    </div>

    <div id="edit_table">
      <!-- <table>
        <tr><td>
          <div style="font-size: 0.5em">
            <br><br><br>
          </div>
        </td></tr>

        <tr><td>
          <div class="link_block link_msg_v1">
            <div class="link_msg link_msg_v2">
              <div style="text-decoration: none;">
                <big>Здесь будут добавленные вами истории</big>
              </div>
            </div>
          </div>
        </td></tr>

        <tr><td>
          <div style="font-size: 0.5em">
            <br><br><br>
          </div>
        </td></tr>
        <tr><td>
          <br><br><br>
        </td></tr>
      </table> -->
    </div>
  </div>

</div>
</center>
</div>

   <!--  <tr><td>
      <div class="link_block">
        <div class="link_msg">
          <a href="https://silverfoxxxy.github.io/letters_reader?name=fabiana_gromkiy_shopot" style="text-decoration: none;">
            <big>Чтобы сохранять любимые произведения нужно авторизоваться</big>
          </a>
          <hr>
          <div style="font-style: italic; font-size: calc(var(--def-fontsz) * 0.7);">любой комментарий</a></div>
          <hr>
          <center>
          <table style="width: 90%;">
            <tr>
              <td style="width: 60%; font-size: calc(var(--def-fontsz) * 0.8);"><center><span style="color: var(--from-color); font-size: calc(var(--def-fontsz) * 0.7);">рейтинг:&nbsp;&nbsp;</span>+15</center></td>
              <td style="width: 40%; font-size: calc(var(--def-fontsz) * 0.8);">
                <center> -->
                  <!-- <div style="display: block; width: 1.4em;position: relative; left: -1.75em; color: transparent;">
                    5
                    <span style="display: block; width: 1.4em; height: 1.4em; position: absolute; left: 0em; bottom: 0.00em;">
                    <svg width="100%" height="100%" version="1.1" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                     <g>
                      <path d="m4.2002 27.937c1.3874-12.681 12.871-23.156 25.349-22.087 12.478 1.0693 18.074 7.7814 20.451 22.087 2.3765-14.305 7.9723-21.017 20.451-22.087 12.478-1.0693 23.962 9.4058 25.349 22.087 0.91298 21.209-15.919 41.452-45.8 66.239-29.881-24.787-46.713-45.031-45.8-66.239z" fill="var(--block-bg)" stroke="var(--from-color)" stroke-width="7"/>
                     </g>
                    </svg></span>
                    <span style="position: absolute; left: 1.75em; bottom: 0.00em; color: var(--main-color);">5</span>
                  </div> -->
                  <!-- <span id="show_fav" style="display: block; width: 2em; font-size: calc(var(--def-fontsz)); font-family: Arial sans-serif; font-weight: normal; font-style: normal; color: transparent; position: relative;">
                    &#9825;
                    <span id="not_fav" style="display: block; width: 2em; color: var(--main-color); font-family: Arial sans-serif; font-weight: normal; font-style: normal; position: absolute; top: 0; left: -2em;">
                      &#9825;
                    </span>
                    <span id="is_fav1" style="display: block; width: 2em; color: var(--block-bg); font-family: Arial sans-serif; font-weight: normal; font-style: normal; position: absolute; top: 0; left: -2em;">
                      &#9829;
                    </span>
                    <span id="is_fav2" style="display: block; width: 2em; color: var(--from-color); font-family: Arial sans-serif; font-weight: normal; font-style: normal; position: absolute; top: 0; left: -2em;">
                      &#9825;
                    </span>
                    <span style="position: absolute; left: 0em; color: var(--main-color);">5</span>
                  </span> -->
                <!-- </center>
              </td>
            </tr>
          </table>
        </center>
        </div>
      </div>
    </td></tr> -->
<br><br>

<br>
<br><br><br>

<!-- <script type="text/javascript" src="letters_example.json"></script> -->

<script>
  var button = document.getElementById("favs_tab_button");
  button.click();
  // openTab(event, 'main_tab');
</script>

<script>
  window.color_theme = 1;
  window.view_theme = 1;
</script>
<script src="src/letters_login.js"></script>
<script src="src/letters_themes.js">
</script>
<script src="src/letters_views.js">
</script>
<script src="src/letters_story_card.js">
</script>
<script src="src/letters_bookmarks.js">
</script>
<script src="src/vk_auth.js"></script>
<script src="src/show_tab.js">
</script>

<script>
  showFavs();
  showEdits();

  async function reload_page_usr_info() {
      showFavs();
      showEdits();
  }
</script>

</body>

</html>
